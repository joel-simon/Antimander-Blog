<!DOCTYPE html><html lang="en"><head><title>Antimander</title><meta charset="utf-8"><meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport"><meta property="og:title" content="Antimander"><meta property="og:description" content="Optimization software to fight gerrymandering."><meta property="og:image" content="/imgs/wi_grid.png"><meta property="og:image:width" content="638"><meta property="og:image:height" content="426"><meta property="og:image:type" content="image/jpeg"><meta property="og:url" content="https://antimander.org"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:creator" content="@_joelsimon"><meta name="twitter:text:title" content="Antimander"><meta name="twitter:image" content="https://artbreeder.com/imgs/wi_grid.png"><meta name="Description" content="Optimization software to fight gerrymandering."><link rel="icon" href="/favicon.ico?v=2" type="image/x-icon"><link rel="icon" type="image/gif" href="favicon.gif"><link rel="apple-touch-icon" href="imgs/apple-touch-icon.png"><style>@font-face {
    font-family: "redaction";
    src: url("./fonts/Redaction-Regular.woff") format('woff');
}
@font-face {
    font-family: "redaction";
    src: url("./fonts/Redaction-Bold.woff") format('woff');
    font-weight: bold;
}
@font-face {
    font-family: "redaction";
    src: url("./fonts/Redaction-Italic.woff") format('woff');
    font-style: italic;
}

@font-face {
    font-family: "redaction-10";
    src: url("./fonts/Redaction10-Regular.woff") format('woff');
}
@font-face {
    font-family: "redaction-10";
    src: url("./fonts/Redaction10-Bold.woff") format('woff');
    font-weight: bold;
}
@font-face {
    font-family: "redaction-20";
    src: url("./fonts/Redaction20-Regular.woff") format('woff');
}
@font-face {
    font-family: "redaction-20";
    src: url("./fonts/Redaction20-Bold.woff") format('woff');
    font-weight: bold;
}
@font-face {
    font-family: "redaction-20";
    src: url("./fonts/Redaction20-Italic.woff") format('woff');
    font-style: italic;
}
@font-face {
    font-family: "redaction-35";
    src: url("./fonts/Redaction35-Regular.woff") format('woff');
}
@font-face {
    font-family: "redaction-35";
    src: url("./fonts/Redaction35-Italic.woff") format('woff');
    font-style: italic;
}
@font-face {
    font-family: "redaction-35";
    src: url("./fonts/Redaction35-Bold.woff") format('woff');
    font-weight: bold;
}
//- @font-face {
//-     font-family: "redaction-50";
//-     src: url("./fonts/Redaction50-Regular.woff") format('woff');
//- }
//- @font-face {
//-     font-family: "redaction-50";
//-     src: url("./fonts/Redaction50-Bold.woff") format('woff');
//-     font-weight: bold;
//- }
//- @font-face {
//-     font-family: "redaction-70";
//-     src: url("./fonts/Redaction70-Regular.woff") format('woff');
//- }
@font-face {
    font-family: "redaction-100";
    src: url("./fonts/Redaction100-Regular.woff") format('woff');
}
@font-face {
    font-family: "vg5000";
    src: url("./fonts/VG5000-Regular_web.woff") format('woff');
}
</style><script src="src/lib/parcoords.standalone.js"></script><script async="1" src="https://www.googletagmanager.com/gtag/js?id=UA-101632858-6"></script><script>if (document.location.hostname != 'localhost') {
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-101632858-6');
}
</script></head><body><header><div class="menu-inner"><a class="logo cursor-pointer" href="#cover"><div class="symbol"></div><h1 class="cursor-pointer">Antimander</h1></a><div class="links"><a href="https://github.com/joel-simon/antimander/">GitHub</a></div></div></header><nav><div class="menu-inner"><ol><li class="navlink caption" id="nav-overview"><a href="#overview">overview</a></li><li class="navlink caption" id="nav-background"><a href="#background">background</a></li><li class="navlink caption" id="nav-metrics"><a href="#metrics">metrics</a></li><li class="navlink caption" id="nav-methods"><a href="#methods">methods</a></li><li class="navlink caption" id="nav-results"><a href="#results">results</a></li><li class="navlink caption" id="nav-conclusion"><a href="#conclusion">conclusion</a></li><li class="navlink caption" id="nav-references"><a href="#references">references</a></li></ol></div></nav><input class="cursor-pointer hidden" id="toggle-menu" type="button" value="Toggle Menu"><article><div class="section" id="cover"><div class="contents"><h1 class="logotype">Antimander</h1><h2 class="tagline">Open source software to generate congressional districts and fight gerrymandering. </h2><div class="button github-button" onclick="window.open(&quot;https://github.com/joel-simon/Antimander&quot;, &quot;_blank&quot;)" style="--icon-url: url(/icons/arrow-left-up.svg)">GitHub</div><author></author><p class="metadata">By <a href="http://www.joelsimon.net">Joel Simon</a> with contributions from <a href="http://joellehman.com/">Joel Lehman</a><br> and design by <a href="http://nioono.com/">Nio Ono</a>.</p></div></div><div class="section viewer viewer_row" id="overview" data-datapath="general_fif_centers" data-stage="5"><div class="viewer-track"><div class="viewer-container"><div class="district-viewer"><div class="parcoords" style="opacity:0;"></div><div class="canvas-container"><p class="zero_warning metadata hidden">None selected, click to reset</p><canvas class="main_canvas" width="1024" height="1024"></canvas></div><p class="view_count metadata" style="opacity:0;">Viewing N / K</p><svg class="dist_chart" height="50" width="384px" style="opacity:0;"></svg></div></div></div><section class="snap" id="cover_snap"></section><section class="snap" id="set-WI"><h2>Overview</h2><p>Each state is divided into districts that each elect a representative to congress. Here are Wisconsin's current districts.</p></section><section class="snap" id="show_chart"><p>The color represents what party that district is leaning towards. </p><p style="display:inline-flex;justify-content:space-between;"><span class="metadata">Republican</span><span class="metadata">Competitive</span><span class="metadata">Democrat</span></p><img class="inline wide" src="imgs/figure_legend_base.png"></section><section class="snap"><p>In this plan, five of the eight districts are majority republican even though Wisconsin has roughly equal amounts of voters in each party.</p></section><section class="snap" id="viewer-sliders"><p>Adjust the below sliders to see generated alternatives from Antimander.</p><br><label class="metadata">Compactness (more simple district shapes)</label><input class="slider" type="range" min="0" max="1.0" value=".5" step=".025" data-metric="compactness"><br><label class="metadata">Districts fairly represent voters' parties</label><input class="slider" type="range" min="0" max="1.0" value=".5" step=".025" data-metric="fairness"><br><label class="metadata">Competitive elections</label><input class="slider" type="range" min="0" max="1.0" value=".5" step=".025" data-metric="competitiveness"><br><a class="metadata set_current">See the current 2011 districts</a></section><section class="snap"><p>Changing any one value has an effect on the others.</p></section><section class="snap" id="show_parcoords_pt1"><p>A better way to view these tradeoffs is something called a <a class="cite" href="https://eagereyes.org/techniques/parallel-coordinates">parallel coordinates plot</a>. It presents the sliders vertically and draws one line across for each option according to its scores on the three metrics.</p></section><section class="snap" id="show_parcoords_pt2"><p>You can drag (brush) on an axis to filter values and see a range of maps.</p><video class="inline narrow" src="video/parcoords.mp4" autoplay="true" muted="true" loop="true" playsinline="true" type="video/mp4"></video></section><section class="snap"><p>This makes it easy to explore the tradeoffs. For example, you may select the top percentage of one metric to see how those solutions rank in other metrics.</p></section><section class="snap"><p>You may also click on any district to enlarge it.</p></section><section class="snap"><p>There is not a single best districting, each is optimal for a slightly different trade-off among the metrics.</p></section><section class="snap"><p>Exploring the results allows us to build intuition about the tradeoffs.</p></section><section class="snap" id="NC"><h3>North Carolina</h3><p>North Carolina is another state with a history of gerrymandering. In 2016 the Supreme Court struck down the 2011 map as unconsitutional.</p><a class="metadata nc-view-2011" style="width: fit-content;">View 2011 Districts</a><a class="metadata nc-view-2016" style="width: fit-content;">View 2016 Districts</a></section><section class="snap"><p>The 2016 map is better across all metrics but still worse than most generated ones.</p></section><section class="snap"><p>This is not a complete picture since there are additional metrics to consider (discussed below) but conveys how generated maps can highlight the weaknesses of others. </p></section><section class="snap"><h3>Optimizing for bias</h3><p>In the follow plots we show what happens when we use Antimander to try to gerrymander maps to benefit one party over the other but to also remain compact. We create artificial states that have both cities and rural areas, where cities tend to be populated by one party, rural areas by the other, but overall there are equal voters of each party in the state. </p></section><section class="snap map_opts"><p>Click one of the maps below to see what the districts optimized for partisan bias look like.</p><img class="input" src="imgs/varytest/c1_small.jpg" data-datapath="vary_test_2k/d7-c1" data-stage="3"><img class="input" src="imgs/varytest/c2_small.jpg" data-datapath="vary_test_2k/d7-c2" data-stage="3"><img class="input" src="imgs/varytest/c3_small.jpg" data-datapath="vary_test_2k/d7-c3" data-stage="3"><img class="input" src="imgs/varytest/WI.png" data-datapath="bias" data-stage="5"></section><section class="snap"><p>Some interesting patterns emerge, such as how with you can have compact and republican-biased but not compact and democrat-biased maps for some numbers of cities. This is a direct result of one party being forced into a small geographic area (cities).</p></section><section class="snap"><p>We also see that gerrymandering for democrats involves splitting cities into many districts so that they may be narrowly won.</p></section><section class="snap"><h3>Goals</h3><p>The goal of generative districting is not necessarily to design districts for use, but to demonstrate to a jury if and how a suspected partisan districting is significantly worse than all reasonable alternatives.</p></section><section class="snap"><p>The other goal is to bring transparency to the districting process and help to build an understanding of the tradeoffs between different desired (but sometimes competing) considerations</p></section><section class="snap"><p>Algorithms cannot make value judgements for us, such as balancing compactness vs competitiveness, but can provide an optimal set of options for us to evaluate. </p></section><section class="snap"><p>The methods developed connect the problem of congressional districting to the fields of <a href="https://en.wikipedia.org/wiki/Generative_design" target="_blank">generative design</a>, <a href="https://en.wikipedia.org/wiki/Multi-objective_optimization" target="_blank">multi-objective evolutionary algorithms (MOEAs)</a> and <a href="http://eplex.cs.ucf.edu/noveltysearch/userspage/" target="_blank">novelty search</a>. An initial paper has been published in the academic conference <a href="https://gecco-2020.sigevo.org/index.html/HomePage">GECCO 2020</a>.</p></section><section class="snap"><p>Below is a brief overview of gerrymandering, algorithmic evidence and the metrics that have been established for districting. Following that is a technical overview of the research methods developed.</p></section><section class="snap"><div class="mailchimp"><!-- Begin Mailchimp Signup Form--><h3>Stay up to date</h3><link href="//cdn-images.mailchimp.com/embedcode/horizontal-slim-10_7.css" rel="stylesheet" type="text/css"><style type="text/css">#mc_embed_signup_scroll {
    float: left;
}
#mc_embed_signup{
    clear:left;
    //- font:14px Helvetica,Arial,sans-serif;
    width:100%;
}
/* Add your own Mailchimp form style overrides in your site stylesheet or in this style block.
We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */</style><div id="mc_embed_signup"><form class="validate" id="mc-embedded-subscribe-form" action="https://app.us19.list-manage.com/subscribe/post?u=a8bf2c0baf9814ce560cee82d&amp;id=9ea5be3557" method="post" name="mc-embedded-subscribe-form" target="_blank" novalidate=""><div id="mc_embed_signup_scroll"><!-- label(for='mce-EMAIL') Stay up to date with Antimander--><input class="email" id="mce-EMAIL" type="email" value="" name="EMAIL" placeholder="email address" required=""><!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups--><div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_a8bf2c0baf9814ce560cee82d_9ea5be3557" tabindex="-1" value=""></div><div class="clear"><input class="button" id="mc-embedded-subscribe" type="submit" value="Subscribe" name="subscribe"></div></div></form></div></div><h3>Get Involved</h3><div class="contact_options"><p class="no-arrow"><a href="mailto:joelsimon6@gmail.com" target="_top">Contact</a></p><p><a href="https://github.com/joel-simon/Antimander">GitHub</a></p><P><a href="https://discord.gg/UmgaE74">Discord</a></P></div><!--        .github_row.card--><!--            h3 Contribute:--><!--            .github--><!--                img(src='/imgs/github.png')--><!--                a(href='https://github.com/joel-simon/Antimander') GitHub--><!--            .github--><!--                img(src='/imgs/Discord-Logo-Color.png')--><!--                a(href='https://discord.gg/UmgaE74') Discord--><!--        .padding(style='height:40px;')     --></section></div><div class="section" id="background"><h2>Background</h2><p>Once a decade the United States takes a census of its population and accordingly redraws congressional districts to ensure that each state is fairly divided into equal populations. How the districts are drawn determines the distribution of elected representatives and has significant political impact, motivating political parties to exploit districting to their advantage, known as gerrymandering. Gerrymandering has become a challenge to democracy in large part because because it is challenging to define.<p class="hover-link" data-hover_name="the_gerrymander"> </p></p><figure class="mid"><img class="square" src="imgs/the_gerrymander.png"><figcaption><p>A cartoon of the <a href="https://www.smithsonianmag.com/history/where-did-term-gerrymander-come-180964118" target="_blank">infamous 1812 Massachusetts districting</a> by its governor Elbridge Gerry that inspired the name 'Gerrymander' due to it resemblance to a mythical salamander.</p></figcaption></figure><p>Gerrymandering works by "packing" a small number of districts full of the opposing party’s voters to "waste" many votes, enabling other districts to "crack," i.e. to be won by a small (but comfortable) amount, thereby securing an outsize proportion of a state’s representatives for the gerrymandering party.</p><figure class="down"><img class="square" src="imgs/pack&amp;crack.svg"><figcaption><p>An example of packing and cracking from Steven Nass / <a href="https://upload.wikimedia.org/wikipedia/commons/5/55/How_to_Steal_an_Election_-_Gerrymandering.svg">Wikimedia</a></p></figcaption></figure><p>While a districting should intuitively be 'fair' to each party, often multiple other criteria are important, too, such as being 'regularly shaped' and having competitive elections <a href="#metrics">(discussed below)</a>. Their relative importance is ultimately subjective. As a result, there is no one 'ideal map' and it is difficult to definitively show that a districting could be more fair. This has led to the Supreme Court ruling that while gerrymandering may be unjust, an impartial means to evaluate it is lacking. - <a href="https://en.wikipedia.org/wiki/Vieth_v._Jubelirer">Vieth v. Jubelirer</a> (2004). In <a href="https://www.supremecourt.gov/opinions/18pdf/18-422_9ol1.pdf" target="_blank">Rucho v. Common Cause (2019)</a> the court returned to gerrymandering, ruling that partisan gerrymandering is not justiciable in federal court and litigation must shift to state courts.</p><p> Evaluating a districting by comparing it to a set of reasonable alternatives has recently become a theoretically attractive approach since it demonstrates that superior solutions are possible while taking into account natural biases of geography and voter distribution. However, generating a large set of satisfactory districts is a significant technical challenge because states may be composed of tens of thousands of geographic units and be optimized for many competing objectives.</p><figure class="down"><img class="square" src="imgs/nc_evidence.png"><figcaption><p>Admitted Algorithmic evidence in <a href="https://www.nccourts.gov/assets/inline-files/18-CVS-14001_Final-Judgment.pdf?Bwsegeo1VV20zhJsp9hoClvmoRp3A6AR">Common Cause v. Lewis</a> presented by Dr Chen showing how a proposed plan (red) is less compact than sampled generated plans which helped convince the court that the proposed plan was a biased outlier.</p></figcaption></figure><p>However, for a comparison to be meaningful it must be against a optimal as well as diverse set of solutions:</p><figure><figcaption class="no-arrow"><p>"if these 1,000 plans are chosen in such a way that they are highly similar, then having 1,000 plans is only marginally better than having a single comparison plan. The maps should be unique from one another, each contributing new information, so that we are able to gain some understanding of what is possible in map-making for a particular jurisdiction." </p><p>- Toward a Talismanic Redistricting [8]</p></figcaption></figure><p>Previous approaches apply Monte Carlo methods [1], single-objective evolutionary algorithms [5], and non-evolutionary two-objective methods [7] to generate districtings.</p><!-- p There remains a need for an open-source library that can optimize such a complex problem with many objectives as well as an interface for making the results accessible to the public. Having this would bring transparency the tradeoffs and how they were made for existing districts as well as be courtroom evidence to prove partisan gerrymandering. This work connects the problem of congressional districting to the fields of generative design, multi-objective evolutionary algorithms (MOEAs) and novelty search.--></div><div class="section" id="metrics"><h2>Metrics</h2><p>The results above were optimized for "fairness", "compactness" and "competitiveness." But what are those and what do they mean and what makes a 'good' district?</p><h3>1. Compactness</h3><p>The original gerrymander was named for its peculiar shape and it is intuitively desirable to expect to live near people within the same district. A lot of attention is therefore paid to the shape of districts, especially since - unlike other metrics - it is easy to evaluate visually. But what does it mean for a shape to be 'compact'? It turns out there are many metrics that can be used. Images below are from <a href="https://fisherzachary.github.io/public/r-output.html">this article</a> which also has additional metrics.</p><figure class="mid"><ol class="image-set"><li><img src="imgs/compactness/polsby_popper.png"></li><li><img src="imgs/compactness/convex_hull.png"></li><li><img src="imgs/compactness/reock.png"></li><li><img src="imgs/compactness/center_distance.png"></li></ol><figcaption class="no-arrow"><ol><li><b>Polspy-Popper</b>: The ratio of the shape's area to its perimeter (used above).</li><li><b>Convex-Hull</b>: The ratio of smallest convex shape that can fit around a shape to its perimeter.</li><li><b>Bounding-Circle (Reock)</b>: Ratio of the area to that of the minimum circle that can fit around it. Also knows as "Reock."</li><li><b>Center-Distance</b>: The average distance to the center of a shape from the points within that shape.</li></ol></figcaption></figure><h3>2. Fairness</h3><p>Generally we want the percent of elected representatives from each party to correspond to the percent of voters in the state for that party. The <i>Efficiency-Gap</i> [6] is a metric that views fairness through the lens of the lost votes of each party. Votes cast for the losing party, or those cast for the winning party beyond the  threshold needed to win are considered lost.</p><p>There is another metric called <i>Partisan Symmetry</i> based on the Seats-Votes curve, which plots how number of representatives varies with percent of the vote for each party. <a href="https://jeffreyshen19.github.io/Seats-Votes-Curves/" target="_blank">This article</a> has excellent explanations with interactive charts of previous years' districts.</p><figure class="up"><img class="square" src="https://docs.google.com/drawings/d/e/2PACX-1vSNgjj2IV_HZ_ntJhRyN8qdH3NF0xQys6uOouyPN4a0H_x-lzAnUIwdLj5FmFUmLyHgFDaTerpvNVys/pub?w=704&amp;h=601"><figcaption><p><b>Seats-Votes Curve</b>. The area between the curves is called the Partisan Symmetry score and measures how similar the curves are for each party.</p></figcaption></figure><h3>3. Competitiveness</h3><p>Close races help prevent incumbents from becoming too entrenched (incumbent gerrymandering). Also, less polarized representatives are beneficial for a healthy democracy. For these reasons, it is important to have competitive districts. Competitiveness is measured by the largest ratio by which one party wins over another.</p><h3>4. Minority Representation</h3><p>While partisan gerrymandering is not illegal, <a href="http://www.publicmapping.org/what-is-redistricting/redistricting-criteria-the-voting-rights-act">racial gerrymandering is illegal under the Voting Rights Act</a>. There should be enough "majority-minority" districts where a majority of inhabitants are from a minority group. However, defining racial gerrymandering <a href="https://fivethirtyeight.com/features/is-gerrymandering-the-best-way-to-make-sure-black-voters-are-represented/">is also complicated</a> and North Carolina is one example of where preventing one kind of gerrymandering came directly at the expense of another.</p><h3>5. Preserving Communities</h3><p>Another desired redistricting criteria is to not divide "communities". While there are <a href="https://www.brennancenter.org/sites/default/files/analysis/6%20Communities%20of%20Interest.pdf">some guidelines</a> for how to do so it is exceptionally hard to codify explicitly. One <a href="https://representable.org/">recent approach</a> is to use crowd sourcing.</p></div><div class="section viewer viewer_row" id="metrics" data-datapath="all_compactness" data-stage="5"><div class="viewer-track"><div class="viewer-container"><div class="district-viewer"><div class="parcoords"></div><div class="canvas-container"><p class="zero_warning metadata hidden">None selected, click to reset</p></div><div class="row"><p class="view_count metadata">Viewing N / K selected</p><svg class="dist_chart" height="50" width="384px"></svg></div></div><!-- img(src="https://media2.giphy.com/media/v0eHX3n28wvoQ/giphy.gif")--><!-- +district_viewer("Multiple compactness")--></div></div><section class="snap"><p>As you can see above, there are many many things we want in districts and and improving one metric may sometimes require harming another.</p></section><section class="snap"><p>Generative algorithms can also be used here to help explore the space of tradeoffs.</p></section><section class="snap"><p>On the left are districts optimized for all of the compactness metrics above. In addition, districts were required to be contiguous and have nearly-equal populations.</p></section><section class="snap"><p>We can see which metrics correlate with each other and which do not, or what it means to be compact in one regard but not the other.</p></section><section class="snap"><p>The dark reds and blues mean these districts are not competitive, which is not surprising since that was not something optimized for.</p></section><section class="snap"><p>Metrics like Polsby-Popper that are based on surface area conflict more with metrics (i.e. more lines cross) that are based on general shape (like center dist).</p></section><section class="snap"><p>Which metrics (or pairs of) best correspond to your idea of 'compactness?'</p></section></div><div class="section" id="methods"><h2>Methods</h2><p>Optimization is typically a process aimed towards achieving a particular goal; however, many real world problems are complex with multiple competing goals. Some domains handle this by creating a weighted average 'composite' goal. This requires picking a precise and often arbitrary weighting a priori. Consider choosing an airplane flight, usually some balance of speed and affordability is desired but that tradeoff is subjective and it's hard to weight them before seeing the options. Multi-objective optimization is the process of finding the optimal set of solutions across all possible tradeoffs among objectives.</p><figure class="mid"><img class="wide" src="imgs/methods/singe-multi-optimization.svg"><figcaption><p><b>Left</b>: Minimizing the error rate of a single-objective over time. <br> <b>Right</b>: In multi-objective optimization there is a "pareto-front" or n-dimensional surface of solutions where every solution in the front has no other solution that is better in every regard (dominates). These are called  "pareto-optimal."</p></figcaption></figure><h3>Problem Definition</h3><p>The districting problem is the partitioning of an undirected connected graph into a fixed number of districts. Each node in the graph represents the geographic unit of a state that composes a district, and contains a number of voters registered for each political party. The partitioning of the state has two constraints: the total population of each district must be approximately equal and each district must be contiguous.</p><h3>Process</h3><p>The Non-Dominated-Sorting-Genetic-Algorithm (NSGA-II) [2] is used here, which is an evolutionary multi-objective algorithm (MOEA). To improve upon NSGA-II (which when applied naively failed to generate any feasible solutions), we explore a series of extensions: multi-phase optimization, novelty search (NS), and feasible-infeasible (FIF) search. Crossover is not employed. Two additional modifications were required to achieve good results. First, the compactness metrics were modified to be the sum of each districts compactness squared rather than the arithmetic mean as used in other papers. Otherwise districtings would get a good overall score but have one of the many districts being totally unusable. Second, constraints were placed on the worst case compactness metrics.</p><figure class="mid"><img class="wide" src="imgs/methods/nsgaii.png"><figcaption><p>Overview of the NSGA-II process.</p></figcaption></figure><h3>Representation & Seeding</h3><p>Districts are represented as integer arrays, where each node is assigned to a district. Initial individuals are created by taking random seed nodes and iteratively adding adjacent random unassigned nodes until there are no unassigned nodes left. A hill-climbing repair operator mutates the random districts until they meet the equality threshold constraint.</p><h3>Mutation Operator</h3><p>The mutation operator simply takes a node bordering another district and swaps the district it belongs to. To make exploring the search space practical, the mutation operator only allows mutations that preserve the contiguity of the district. Calculating graph connectedness after every mutation would be computationally prohibitive and so a local adjacency graph is created for each node for fast checks.</p><figure class="mid"><img class="square" src="imgs/methods/mutation.svg"><figcaption><p>Mutation process: A node (orange outline) is random selected to swap districts. The circles are the immediate adjacency graph, a simple DFS is done on nodes in the same district (black-circles). Here we see that removing the orange node would break the district and is therefore prohibited. A full graph traversal is not needed because of assumptions about the structure of districts (such that one district will never fully enclosed another district) that are preserved by the objectives.</p></figcaption></figure><h3>Novelty Search</h3><p>Novelty search explicitly promotes diversity, thereby assisting exploration in search [3]. Novelty Search requires a behavior characterization that captures important traits in few dimensions. This quantification of behavior is used to measure what is novel, which defines the kind of diversity that novelty search will seek to encourage. Multiple characterization descriptors were proposed and tested.</p><figure class="full-height mid"><img class="square" src="imgs/novelty_metrics/center_histograms.svg"><figcaption><p>Method #1: Tile-Histograms. A histogram of the distances between nodes within the same district. Inspired by shape features used to characterize 3D meshes [10] for object databases in ways invariant to scale and rotation. It was used as a novelty metric for <a href="http://www.joelsimon.net/corals.html" target="_blank">Evolving Alien Corals.</a> <img src="imgs/coral.lol.png" style="height:18px;width:auto;"></p></figcaption></figure><figure class="full-height mid"><img class="square" src="imgs/novelty_metrics/centers.svg"><figcaption><p>Method #2: Sorted-Centers. The Simplest method whereby the centroid of each district is sorted by 'x+y' and concatenated.</p></figcaption></figure><figure class="full-height mid"><img class="square" src="imgs/novelty_metrics/mutual_tiles.svg"><figcaption><p>Method #3: Mutual-Tiles. Pairs of tiles are selected at the start of each run (dashed lines). Then, a binary array is constructed such that Vi is 1 if the ith pair is in the same district and 0 otherwise. The k top principal components of this binary array are the features. It captures the most information at the expense of the most meta-parameters.</p></figcaption></figure><h3>Feasible-Infeasible Search               </h3><p>The double constraints of contiguity and equality propose a challenge for the optimization process since the mast majority of the possibilities are inviable. Often, finding a good solution requires exploring some bad ones first. Some genetic algorithms simply throw out invalid solutions while others keep them in the same population but with a penalty to their fitness. A more elegant solution is to keep two populations of solutions, one for feasible individuals (those that satisfy all constraints) and one for infeasible (FIF). The feasible population optimizes for all the objectives while the infeasible one optimizes to satisfy the objectives. [4, 11] propose combining novelty search with FIF.</p><figure class="up"><img class="square inline-svg" src="https://docs.google.com/drawings/d/e/2PACX-1vQXpbM-Sy9ZXOf_6xRfrJeaS-7vm0Ri9sRCYrfB3cWQy4Ao5x3CQQ7Bvnr6FbR5V1DwjIBaAQK6j_u5/pub?w=456&amp;h=455"><figcaption><p>Re-creation of figure 1-C in Liapis et all [11] showing the total solution space with disjoint spaces of feasible solutions. Infeasible solutions (orange) also have a pressure to explore, making them more likely to discover novel solutions.</p></figcaption></figure><h3>Multi-Phase Search</h3><p>Because optimizing a large number of nodes directly is challenging, districts are optimized through a multi-phase evolutionary algorithm, where each successive phase divides districts more granularly (similarly to Swarmy et al. [7]). To create a series of coarsening graphs, the graph is iteratively contracted using star contraction [12] until the state has reached 500 nodes. An additional bias is added to preserve compact shapes across graph resolutions. </p><figure class="mid"><img class="square" src="imgs/methods/contractions2x2.png"><figcaption><p>Multiple graph contractions with compactness bias.</p></figcaption></figure><h2>Data</h2><p>Wisconsin is chosen as a test as in [5,7]. Census and geographic data was downloaded from the Metric Geometry and Gerrymandering Group's mggg-states <a href="https://github.com/mggg-states/WI-shapefiles">GitHub repository</a>. Voters for each party were the average voters in the 2012 and 2016 presidential election. Wisconsin has eight congressional districts composed from 6634 census wards.</p></div><div class="section" id="results"><h2>Results</h2><p>Three novelty methods were compared using NSGA-II as well as with and without feasible-infeasible search (FIF). Novelty was added as an additional objective. Each run had a total population of 700, and consisted of 15000 generations across five phases. Each run was replicated five times.</p><figure class="up"><img class="square" src="imgs/results/optimization_comp.svg"><figcaption><p>All three novelty metrics outperformed the baseline with 'Centers' metric doing the best. Hypervolume is a measure of how well the search finds districtings that cover all possible tradeoffs. Surprisingly, novelty search without FIF did the worst, and seemed to struggle with the complexity of later phases. This validates that novelty search combined with Feas-Infeas is an effective combination. </p></figcaption></figure><figure><img class="wide" src="imgs/results/results.png"><figcaption><p>Comparing actual and optimized Wisconsin districts. Shown optimized solutions are hand-chosen from those that dominate the actual districting (i.e. strictly lower score on all measures) (a) Wisconsin's 2011 districts have scores: fairness=0.788, competitiveness=%53.16, equality=%8.46. (b) An optimized compact district from a FIF-NOV run: fairness=0.647, competitiveness=%17.98, equality=%0.76. The solution is quantitatively and qualitatively more compact than the actual districting. (c) An optimized district with maximum fairness and competitiveness from a FIF-NOV run: fairness=0.762, competitiveness=%13.12, equality=%0.0 Remarkably this districting had exactly 726419 lost votes for each party.        </p></figcaption></figure><p>For a final analysis the diversity of generated solutions was evaluated. As discussed previously, a comparison of a potentially gerrymandered districting to other options that are potentially better than it on all desired properties is most meaningful when done against a diverse set of alternatives. The 'Centers' metric is used as the basis of exploring diversity since it created the most optimal solutions. Multiple runs of four different methods were combined and the features of final solutions were projected into 2D with PCA. </p><figure class="mid"><img src="imgs/results/novelty2.png"><br><figcaption><p>The clusters of solutions from four methods. The "Baseline" (regular NSGA-II) has four general clusters of solutions, the least of any. Congruent with expectations, the pure novelty search (top-right) has the most diversity. FIF with and without novelty seem to have comparable diversity, although the clusters in plain-FIF overlap highly with the baseline.     </p></figcaption></figure></div><div class="section" id="conclusion"><h2>Conclusion & Next Steps</h2><p>How should compactness be prioritized over competitiveness? Or partisan gerrymandering vs racial gerrymandering?  Algorithms cannot make these tough tradeoffs for us. However, they can empower us by bringing transparency to the tradeoffs and providing optimal sets of options. There is also promise that having optimal options will expose gerrymandered districts as statistical outliers. </p><p>Antimander is an open-source high-performance optimization library and interactive browser with the goal of achieving this dream and making districting more transparent and fair. It has presented and validated novel methods to achieve high quality districts; however, to be ultimately successful it needs more work and must incorporate further measures, including majority-minority districts, preserving areas of interest, and other metrics that vary in importance by state. To do this requires growing into a larger open source community that brings together a diverse group of researchers, mathematicians, statisticians, designers and policy experts. If this is something you are interested in being part of or supporting please reach out. </p><section><div class="mailchimp"><!-- Begin Mailchimp Signup Form--><h3>Stay up to date</h3><link href="//cdn-images.mailchimp.com/embedcode/horizontal-slim-10_7.css" rel="stylesheet" type="text/css"><style type="text/css">#mc_embed_signup_scroll {
    float: left;
}
#mc_embed_signup{
    clear:left;
    //- font:14px Helvetica,Arial,sans-serif;
    width:100%;
}
/* Add your own Mailchimp form style overrides in your site stylesheet or in this style block.
We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */</style><div id="mc_embed_signup"><form class="validate" id="mc-embedded-subscribe-form" action="https://app.us19.list-manage.com/subscribe/post?u=a8bf2c0baf9814ce560cee82d&amp;id=9ea5be3557" method="post" name="mc-embedded-subscribe-form" target="_blank" novalidate=""><div id="mc_embed_signup_scroll"><!-- label(for='mce-EMAIL') Stay up to date with Antimander--><input class="email" id="mce-EMAIL" type="email" value="" name="EMAIL" placeholder="email address" required=""><!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups--><div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_a8bf2c0baf9814ce560cee82d_9ea5be3557" tabindex="-1" value=""></div><div class="clear"><input class="button" id="mc-embedded-subscribe" type="submit" value="Subscribe" name="subscribe"></div></div></form></div></div><h3>Get Involved</h3><div class="contact_options"><p class="no-arrow"><a href="mailto:joelsimon6@gmail.com" target="_top">Contact</a></p><p><a href="https://github.com/joel-simon/Antimander">GitHub</a></p><P><a href="https://discord.gg/UmgaE74">Discord</a></P></div><!--        .github_row.card--><!--            h3 Contribute:--><!--            .github--><!--                img(src='/imgs/github.png')--><!--                a(href='https://github.com/joel-simon/Antimander') GitHub--><!--            .github--><!--                img(src='/imgs/Discord-Logo-Color.png')--><!--                a(href='https://discord.gg/UmgaE74') Discord--><!--        .padding(style='height:40px;')     --></section></div><div class="section" id="references"><h2>References</h2><ol><li>Metric Geometry and Gerrymandering Group. 2013. Gerrychain. https://github. com/mggg/GerryChain. (2013).</li><li>K. Deb, A. Pratap, S. Agarwal and T. Meyarivan, "A fast and elitist multiobjective genetic algorithm: NSGA-II," in IEEE Transactions on Evolutionary Computation, vol. 6, no. 2, pp. 182-197, April 2002.</li><li>Joel Lehman and Kenneth O Stanley. 2008. Exploiting open-endedness to solve problems through the search for novelty. In ALIFE. 329–336.</li><li>Antonios Liapis, Georgios N Yannakakis, and Julian Togelius. 2015. Constrained novelty search: A study on game content generation. Evolutionary computation 23, 1 (2015), 101–129.</li><li>Yan Y Liu, Wendy K Tam Cho, and Shaowen Wang. 2016. PEAR: a massively parallel evolutionary computation approach for political redistricting optimization and analysis. Swarm and Evolutionary Computation 30 (2016), 78–92.</li><li>Nicholas O Stephanopoulos and Eric M McGhee. 2015. Partisan gerrymandering and the effciency gap. U. Chi. L. Rev. 82 (2015), 831.</li><li>Rahul Swamy, Douglas King, and Sheldon Jacobson. [n. d.]. Multi-Objective Optimization for Political Districting: A Scalable Multilevel Approach. ([n. d.]).</li><li>Wendy K Tam Cho and Yan Y Liu. 2016. Toward a talismanic redistricting tool: A computational method for identifying extreme redistricting plans. Election Law Journal 15, 4 (2016), 351–366.</li><li>Schutzman, Zachary. "Trade-Offs in Fair Redistricting." Proceedings of the AAAI/ACM Conference on AI, Ethics, and Society. 2020.</li><li>Osada, Robert, et al. "Shape distributions." ACM Transactions on Graphics (TOG) 21.4 (2002): 807-832.</li><li>Liapis, Antonios, Georgios N. Yannakakis, and Julian Togelius. "Enhancements to constrained novelty search: Two-population novelty search for generating game content." Proceedings of the 15th annual conference on Genetic and evolutionary computation. 2013.</li><li>Umut A. Acar and Guy E. Blelloch, Algorithms: Parallel and Sequential, Chapter 13.</li></ol><h3>Software Libraries</h3><br><h4>Optimization</h4><ol><li><a href="https://pymoo.org/">Pymoo: Multi-objective Optimization.</a></li><li><a href="https://cython.org/">Cython: Language and static compiler for Python.</a></li></ol><br><h4>Blog</h4><ol><li><a href="https://www.redaction.us/">Redaction typeface</a></li><li><a href="http://regl.party/">Regl: A functional abstraction for webgl.</a></li><li><a href="https://github.com/BigFatDog/parcoords-es/">Parallel coordinates D3 chart</a>, a fork of <a href="https://github.com/syntagmatic/parallel-coordinates">the original.</a></li></ol></div></article><div class="baseline"></div><script src="/src/nio-temp.js"></script><script type="text/javascript" src="index.js"></script></body></html>